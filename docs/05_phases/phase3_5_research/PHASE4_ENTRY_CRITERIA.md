# Phase 4 進入條件（Gate）

## 概述

本文檔定義了**進入 Phase 4（持倉管理）的前置條件**，確保使用者在 Phase 3 階段已經具備足夠的研究能力和判斷標準，能夠穩定、可靠地進行策略研究。

**核心原則**：
- 使用者在 Phase 3 必須「能做到哪些事」
- 哪些條件滿足後，才進入 Phase 4（持倉管理）
- 所有條件必須**可重複、可驗證**

---

## Phase 3 必須完成的事項

### 1. 研究流程熟練度

#### 1.1 能夠完成一次完整研究循環

**標準**：
- ✅ 能在 10-15 分鐘內完成一次完整研究循環（推薦 → 回測 → 最佳化 → Promote）
- ✅ 能夠按照「研究迭代 SOP」的固定順序執行，不跳步
- ✅ 能夠清楚說明每個步驟的目的和判斷標準

**驗證方式**：
- 實際操作測試：請使用者在 15 分鐘內完成一次研究循環
- 口頭說明：請使用者說明每個步驟的目的和判斷標準

**不通過標準**：
- ❌ 無法在 15 分鐘內完成
- ❌ 跳過某些步驟或同時改動多個層級
- ❌ 無法清楚說明步驟目的

---

#### 1.2 能夠識別問題所在層級

**標準**：
- ✅ 當研究結果不符合預期時，能夠準確識別問題出在哪一層（Universe / Regime / Score / Execution）
- ✅ 能夠根據問題層級選擇正確的調整方向
- ✅ 能夠避免「頭痛醫頭、腳痛醫腳」的錯誤調整

**驗證方式**：
- 情境測試：提供幾個有問題的回測結果，請使用者識別問題層級
- 調整建議：請使用者提供調整建議，檢查是否針對正確的層級

**不通過標準**：
- ❌ 無法準確識別問題層級
- ❌ 調整建議針對錯誤的層級
- ❌ 同時調整多個層級

---

#### 1.3 能夠判斷「可分析」vs「退回調整」

**標準**：
- ✅ 能夠根據「研究迭代 SOP」的標準，判斷回測結果是否「可分析」
- ✅ 能夠識別「退回調整」的情況，並知道如何調整
- ✅ 不會在「樣本不足」或「行為不合理」的情況下強行分析

**驗證方式**：
- 情境測試：提供幾個回測結果，請使用者判斷是否「可分析」
- 調整建議：對於「退回調整」的情況，請使用者提供調整建議

**不通過標準**：
- ❌ 無法判斷「可分析」vs「退回調整」
- ❌ 在「樣本不足」的情況下強行分析
- ❌ 無法提供有效的調整建議

---

### 2. 指標判讀能力

#### 2.1 能夠按照優先順序判讀指標

**標準**：
- ✅ 能夠按照「指標判讀優先順序」的順序查看指標（行為健康 > 穩健性 > Baseline 對比 > 報酬率 > Sharpe/PF）
- ✅ 不會跳過 Primary 指標，直接看 Secondary 指標
- ✅ 能夠理解為什麼某些指標優先級更高

**驗證方式**：
- 實際操作測試：請使用者查看回測結果，觀察是否按照優先順序查看指標
- 口頭說明：請使用者說明為什麼行為健康指標優先級最高

**不通過標準**：
- ❌ 跳過 Primary 指標，直接看報酬率或 Sharpe
- ❌ 無法理解指標優先順序的邏輯
- ❌ 在行為不合理的情況下，仍以報酬率作為判斷依據

---

#### 2.2 能夠正確解讀 Benchmark 對標

**標準**：
- ✅ 能夠理解「權益曲線對比」的 normalize 方式（兩條線都從 0% 開始）
- ✅ 能夠正確解讀「超額報酬率」和「相對改善」的差異
- ✅ 不會誤解圖表呈現方式（例如：認為策略報酬率是 Baseline 的倍數）

**驗證方式**：
- 圖表解讀測試：提供一個權益曲線對比圖表，請使用者解讀
- 數值計算測試：提供策略和 Baseline 的數值，請使用者計算超額報酬率

**不通過標準**：
- ❌ 無法理解 normalize 的意義
- ❌ 誤解超額報酬率的計算方式
- ❌ 無法正確解讀圖表

---

#### 2.3 能夠識別「樣本不足」的情況

**標準**：
- ✅ 能夠識別「樣本不足」的提示（交易次數 < 10 次、回測期間 < 3 個月等）
- ✅ 知道如何解決「樣本不足」的問題（擴大期間、調整參數等）
- ✅ 不會在「樣本不足」的情況下強行判斷策略有效性

**驗證方式**：
- 情境測試：提供一個「樣本不足」的回測結果，請使用者識別並提供解決方案

**不通過標準**：
- ❌ 無法識別「樣本不足」的情況
- ❌ 在「樣本不足」的情況下強行判斷
- ❌ 無法提供有效的解決方案

---

### 3. 策略驗證能力

#### 3.1 能夠執行 Walk-Forward 驗證

**標準**：
- ✅ 能夠正確設定 Walk-Forward 參數（訓練期/測試期長度、步進）
- ✅ 能夠解讀 Walk-Forward 結果（一致性、退化程度）
- ✅ 能夠根據 Walk-Forward 結果判斷策略穩健性

**驗證方式**：
- 實際操作測試：請使用者執行一次 Walk-Forward 驗證
- 結果解讀測試：提供一個 Walk-Forward 結果，請使用者解讀

**不通過標準**：
- ❌ 無法正確設定 Walk-Forward 參數
- ❌ 無法解讀 Walk-Forward 結果
- ❌ 無法根據結果判斷穩健性

---

#### 3.2 能夠判斷過擬合風險

**標準**：
- ✅ 能夠理解「過擬合風險等級」的意義（低/中/高）
- ✅ 知道「高風險」必須退回調整，不能進入 Phase 4
- ✅ 能夠根據過擬合風險指標（退化程度、一致性）判斷風險等級

**驗證方式**：
- 情境測試：提供幾個不同風險等級的回測結果，請使用者判斷
- 調整建議：對於「高風險」的情況，請使用者提供調整建議

**不通過標準**：
- ❌ 無法理解過擬合風險等級
- ❌ 在「高風險」的情況下仍想進入 Phase 4
- ❌ 無法提供有效的調整建議

---

#### 3.3 能夠判斷策略是否優於 Baseline

**標準**：
- ✅ 能夠理解「Baseline 對比」的意義（策略 vs Buy & Hold）
- ✅ 知道策略必須優於 Baseline 才能考慮使用
- ✅ 能夠根據對比結果判斷策略價值

**驗證方式**：
- 情境測試：提供幾個策略與 Baseline 的對比結果，請使用者判斷

**不通過標準**：
- ❌ 無法理解 Baseline 對比的意義
- ❌ 在策略不如 Baseline 的情況下仍想使用
- ❌ 無法根據對比結果判斷策略價值

---

### 4. 策略 Promote 能力

#### 4.1 能夠 Promote 回測結果為策略版本

**標準**：
- ✅ 能夠使用 Promote 功能，將回測結果升級為策略版本
- ✅ 能夠理解 Promote 的條件（Walk-Forward 驗證通過、優於 Baseline 等）
- ✅ 能夠為 Promote 的策略版本命名和添加備註

**驗證方式**：
- 實際操作測試：請使用者 Promote 一個回測結果

**不通過標準**：
- ❌ 無法使用 Promote 功能
- ❌ 無法理解 Promote 的條件
- ❌ 無法為策略版本命名

---

#### 4.2 能夠從策略版本載入到推薦

**標準**：
- ✅ 能夠從 Promote 的策略版本載入到推薦系統
- ✅ 能夠理解策略版本與 Profile 的關係
- ✅ 能夠在推薦系統中使用策略版本

**驗證方式**：
- 實際操作測試：請使用者從策略版本載入到推薦系統

**不通過標準**：
- ❌ 無法從策略版本載入
- ❌ 無法理解策略版本與 Profile 的關係
- ❌ 無法在推薦系統中使用策略版本

---

## 進入 Phase 4 的條件清單

### 必須全部滿足（AND 條件）

#### ✅ 條件 1：研究流程熟練度

- [ ] 能夠在 10-15 分鐘內完成一次完整研究循環
- [ ] 能夠識別問題所在層級（Universe / Regime / Score / Execution）
- [ ] 能夠判斷「可分析」vs「退回調整」

#### ✅ 條件 2：指標判讀能力

- [ ] 能夠按照優先順序判讀指標（行為健康 > 穩健性 > Baseline 對比 > 報酬率 > Sharpe/PF）
- [ ] 能夠正確解讀 Benchmark 對標
- [ ] 能夠識別「樣本不足」的情況

#### ✅ 條件 3：策略驗證能力

- [ ] 能夠執行 Walk-Forward 驗證
- [ ] 能夠判斷過擬合風險（知道「高風險」必須退回調整）
- [ ] 能夠判斷策略是否優於 Baseline

#### ✅ 條件 4：策略 Promote 能力

- [ ] 能夠 Promote 回測結果為策略版本
- [ ] 能夠從策略版本載入到推薦系統

#### ✅ 條件 5：實際案例驗證

- [ ] 至少完成 3 次完整的研究循環（從推薦到 Promote）
- [ ] 至少 Promote 1 個策略版本
- [ ] 能夠清楚回答「為什麼選這些股票」、「為什麼這套參數合理」、「問題出在哪一層」

---

## 驗證方式

### 方式 1：實際操作測試

**流程**：
1. 請使用者在 15 分鐘內完成一次完整研究循環
2. 觀察使用者是否按照「研究迭代 SOP」的順序執行
3. 檢查使用者是否能夠正確判讀指標和結果

**通過標準**：
- ✅ 能在 15 分鐘內完成
- ✅ 按照固定順序執行，不跳步
- ✅ 能夠正確判讀指標和結果

---

### 方式 2：情境測試

**流程**：
1. 提供幾個有問題的回測結果
2. 請使用者識別問題層級和調整方向
3. 提供幾個不同風險等級的回測結果
4. 請使用者判斷是否「可分析」或「退回調整」

**通過標準**：
- ✅ 能夠準確識別問題層級
- ✅ 能夠提供正確的調整建議
- ✅ 能夠正確判斷「可分析」vs「退回調整」

---

### 方式 3：口頭說明測試

**流程**：
1. 請使用者說明「研究迭代 SOP」的固定順序
2. 請使用者說明為什麼行為健康指標優先級最高
3. 請使用者說明如何解讀 Benchmark 對標

**通過標準**：
- ✅ 能夠清楚說明研究流程
- ✅ 能夠理解指標優先順序的邏輯
- ✅ 能夠正確解讀 Benchmark 對標

---

## 不通過的處理方式

### 如果條件不滿足

**處理方式**：
1. **明確告知**：清楚說明哪些條件不滿足
2. **提供建議**：提供具體的改進建議（例如：需要練習哪些步驟、需要理解哪些概念）
3. **重新驗證**：在改進後重新驗證

**不應該**：
- ❌ 強行進入 Phase 4
- ❌ 跳過某些條件
- ❌ 降低標準

---

## 總結

**進入 Phase 4 的條件**：
1. ✅ 研究流程熟練度：能夠完成完整研究循環、識別問題層級、判斷「可分析」vs「退回調整」
2. ✅ 指標判讀能力：能夠按照優先順序判讀指標、正確解讀 Benchmark 對標、識別「樣本不足」
3. ✅ 策略驗證能力：能夠執行 Walk-Forward 驗證、判斷過擬合風險、判斷策略是否優於 Baseline
4. ✅ 策略 Promote 能力：能夠 Promote 回測結果、從策略版本載入到推薦
5. ✅ 實際案例驗證：至少完成 3 次完整研究循環、至少 Promote 1 個策略版本

**驗證方式**：
- 實際操作測試
- 情境測試
- 口頭說明測試

**關鍵原則**：
- 所有條件必須**可重複、可驗證**
- 不應該強行進入 Phase 4
- 應該在 Phase 3 階段充分練習和研究

---

**文檔版本**：v1.0  
**最後更新**：2026-01-02  
**適用階段**：Phase 3.5 (Readiness) → Phase 4 (Portfolio Management)

